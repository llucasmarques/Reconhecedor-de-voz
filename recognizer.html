<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voz para Texto em JS</title>

    <style></style>
</head>

<body>
<h3 id="texto"></h3>
<button onclick="captaVoz()">Captar voz</button>



<script>

    function captaVoz(){
        const recognition = new webkitSpeechRecognition();
        recognition.interimResults = true; //Mostrar resultados inteiros, se colocar falso ele retorna palavra por palavra
        recognition.lang = "pt-BR"; //linguagem dele
        recognition.continuous = true; //continua ouvindo sempre
        recognition.start(); //inicia ele
        recognition.onresult = function(event){ //Quando tiver um resultado
            for (let index = event.resultIndex; index < event.results.length; index++) {
                if(event.results[index].isFinal){ //Se é o resultado final
                    document.getElementById("texto").innerText = `Usuário diz: ${event.results[index][0].transcript.trim()}`;
                }
                
            }
        }
    }

</script>
</body>

</html>
